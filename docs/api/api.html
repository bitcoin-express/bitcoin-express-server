<!DOCTYPE HTML><html><head><title>Bitcoin-Express Merchant Gateway API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 7.2.1"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
  $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });

  $('[data-toggle]').click(function() {
    var selector = $(this).data('target') + ' pre code';
    $(selector).each(function(i, block) {
      hljs.highlightBlock(block);
    });
  });

  // open modal on hashes like #_action_get
  $(window).bind('hashchange', function(e) {
    var anchor_id = document.location.hash.substr(1); //strip #
    var element = $('#' + anchor_id);

    // do we have such element + is it a modal?  --> show it
    if (element.length && element.hasClass('modal')) {
      element.modal('show');
    }
  });

  // execute hashchange on first page load
  $(window).trigger('hashchange');

  // remove url fragment on modal hide
  $('.modal').on('hidden.bs.modal', function() {
    try {
      if (history && history.replaceState) {
          history.replaceState({}, '', '#');
      }
    } catch(e) {}
  });
});
    </script><style>
      .hljs {
  background: transparent;
}
.parent {
  color: #999;
}
.list-group-item > .badge {
  float: none;
  margin-right: 6px;
}
.panel-title > .methods {
  float: right;
}
.badge {
  border-radius: 0;
  text-transform: uppercase;
  width: 70px;
  font-weight: normal;
  color: #f3f3f6;
  line-height: normal;
}
.badge_get {
  background-color: #63a8e2;
}
.badge_post {
  background-color: #6cbd7d;
}
.badge_put {
  background-color: #22bac4;
}
.badge_delete {
  background-color: #d26460;
}
.badge_patch {
  background-color: #ccc444;
}
.list-group,
.panel-group {
  margin-bottom: 0;
}
.panel-group .panel+.panel-white {
  margin-top: 0;
}
.panel-group .panel-white {
  border-bottom: 1px solid #F5F5F5;
  border-radius: 0;
}
.panel-white:last-child {
  border-bottom-color: white;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.panel-white .panel-heading {
  background: white;
}
.tab-pane ul {
  padding-left: 2em;
}
.tab-pane h1 {
  font-size: 1.3em;
}
.tab-pane h2 {
  font-size: 1.2em;
  padding-bottom: 4px;
  border-bottom: 1px solid #ddd;
}
.tab-pane h3 {
  font-size: 1.1em;
}
.tab-content {
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
  padding: 10px;
}
#sidebar {
  margin-top: 30px;
  padding-right: 5px;
  overflow: auto;
  height: 90%;
}
.top-resource-description {
  border-bottom: 1px solid #ddd;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description {
  border-bottom: 1px solid #fcfcfc;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description p:last-child {
  margin: 0;
}
.list-group .badge {
  float: left;
}
.method_description {
  margin-left: 85px;
}
.method_description p:last-child {
  margin: 0;
}
.list-group-item {
  cursor: pointer;
}
.list-group-item:hover {
  background-color: #f5f5f5;
}
pre code {
  overflow: auto;
  word-wrap: normal;
  white-space: pre;
}
.items {
  background: #f5f5f5;
  color: #333;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
}
.examples {
  margin-left: 0.5em;
}
.resource-modal li > ul {
  margin-bottom: 1em;
}
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>Bitcoin-Express Merchant Gateway API documentation <small>version v1.0a</small></h1><p>https://api.gateway.url/{version}</p><p>This is an initial draft of a draft of documentation for Bitcoin-Express Merchant Gateway API.</p><ul><li><strong>version</strong>: <em>required (v1.0a)</em></li></ul></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transactions" class="panel-title">/transactions</h3></div><div class="panel-body"><div class="top-resource-description"><p>All operations on different types of transactions, uncluding payments for the account authenticated by the token</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transactions"><span class="parent"></span>/transactions</a> <span class="methods"><a href="#transactions_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a> <a href="#transactions_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_transactions" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transactions_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /getTransactions Return all transactions according to given parameters</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#transactions_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /createPaymentRequest</p><p>Creates a new transaction of a given type. Currently three types of transactions are available:</p><ul><li>Payment (payment) - creates a payment request to be processed by the Merchant/Buyer in order to pay for an order created on Merchant&#39;s end,</li><li>Blockchain Transfer (blockchain-transfer) - transfers a requested currency (defined value) to a blockchain,</li><li>Coin File Transfer (coin-file-transfer) - exports a requested currency (defined value) to the Wallet-ready file.</li></ul><p>Each type of transaction&#39;s request has a diffent parameters and responses. In order to define which type of transaction should be created &#39;type&#39; parameter has to be set to the correct value.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transactions_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/transactions</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /getTransactions Return all transactions according to given parameters</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transactions_get_request" data-toggle="tab">Request</a></li><li><a href="#transactions_get_response" data-toggle="tab">Response</a></li><li><a href="#transactions_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transactions_get_request"><h3>Query Parameters</h3><ul><li><strong>offset</strong>: <em>(integer - default: 0)</em><p>Initial element&#39;s position in the whole dataset</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>100</code></pre></div></li><li><strong>limit</strong>: <em>(integer - default: 100)</em><p>Maximum number of items in the returned dataset.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>100</code></pre></div></li><li><strong>order_by</strong>: <em>(one of paid, created - default: paid)</em><p>Field to sort the returned dataset on.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>paid</code></pre></div></li><li><strong>order</strong>: <em>(one of asc, desc - default: desc)</em><p>Direction to sort the returned dataset on - either as ascending (asc) or descending (desc).</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>asc</code></pre></div></li><li><strong>before</strong>: <em>(datetime)</em><p>Shows only records created before this date/time. Uses ISO 8601 as a date/time format. Can be used in conjunction with &#39;after&#39; parameter.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-12-24T12:00:00Z</code></pre></div></li><li><strong>after</strong>: <em>(datetime)</em><p>Shows only records created after this date/time. Uses ISO 8601 as a date/time format. Can be used in conjunction with &#39;before&#39; parameter.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-12-24T12:00:00Z</code></pre></div></li><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>include_expired</strong>: <em>(boolean - default: false)</em><p>By default only valid, non-expired transactions are returned. In order to get all transaction set this option to true.</p></li></ul></div><div class="tab-pane" id="transactions_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Method always returns enveloped JSON with the returned dataset placed under the key &#39;body&#39;. If no results were found either because there were no transaction registered under the account or due to excluding parameters an empty array is returned.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of array - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentDetails</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>Currency used in this transaction. If not set then the default value from account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>A short information from the Merchant to be presentened to the Buyer e.g. a thank you note, confirmation of purchase. This may be usefull especially if there is no need for extra steps after payment is done i.e. by passing &#39;return_url&#39;. On ocasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. Notification may be used in such situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the purchased product may be obtained and/or order finalised. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;return_url&#39; such as "<a href="https://my.site.url/pay?in=12345">https://my.site.url/pay?in=12345</a>" will became "<a href="https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;return_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p>In general it is a good practice to provide a &#39;return_url&#39;.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/pay?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where notification about successfull transaction will be send. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;callback_url&#39; such as "<a href="https://my.site.url/complete?in=12345">https://my.site.url/complete?in=12345</a>" will became "<a href="https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;callback_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers (domains) that the Merchant accepts Coins from. If the Merchant will explicitly set &#39;home_issuer&#39; then automatically &#39;acceptable_issuers&#39; are set to "(<home_issuer>)" (home issuer put into brackets), meaning all issuers that the home issuer accepts will be accepted by the Merchant as well. If &#39;home_issuer&#39; is not explicitly set then &#39;acceptable_issuers&#39; are set to the default Gateway value.</home_issuer></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If not provided then &#39;email_customer_contact&#39; value is taken from the account&#39;s settings - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Possible modifications of transatcion&#39;s flow or additional options to be set.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing an option to send a receipt via email after successfull transaction.</p><p>If not provided then &#39;provide_receipt_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If not provided then &#39;provide_refund_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells till when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the gateway where payment for this order should be send.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>A status of the transaction:</p><ul><li>initial - a payment was initialised but is not yet processed. It still can be modified and/or canceled,</li><li>resolved - a payment was successfully resolved. No more changes is allowed in this state,</li><li>aborted - a payment was aborted for some reason. No more changes is allowed in this state,</li><li>expired - a payment was not proceeded in set time. No more changes is allowed in this state,</li><li>processing - a payment is being processed at the moment. No more changes is allowed in this state.</li></ul></li><li><strong>confirmation_details</strong>: <em>(object)</em><p>Payment confirmation details send from the Buyer&#39;s Wallet to finalise the transaction.</p><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how returned data will be formated.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the payment.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present the Merchant should consider this as a request by the buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins before sending through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the &#39;reference&#39; element is present it should be echoed in the &#39;reference&#39; element of the refund file.</p></li></ul></li></ul></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "memo": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></li><li><strong>verification_details</strong>: <em>(object)</em><p>The data returned by the Issuer that verified the payment Coins.</p><ul></ul></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>metrics</strong>: <em>required (object)</em><ul><li><strong>offset</strong>: <em>required (string)</em></li><li><strong>limit</strong>: <em>required (string)</em></li><li><strong>total</strong>: <em>required (string)</em></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
 "offset":"0",
 "limit":"20",
 "total":"100"
}
</code></pre></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": true,
  "messages": [],
  "body":[
    {
      "value": "0.0000095",
      "currency": "XBT",
      "issuers": ["eu.carrotpay.com"],
      "description": "The art of asking",
      "email_customer_contact": "sales@my.site.url",
      "return_url": "https://my.site.url/pay?order=IN1234&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6",
      "policies": {
        "receipt_via_email": true,
        "refund_via_email": false
      },
      "payment_url": "https://my.site.url/payment",
      "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
      "order_id": "IN1234",
      "expires": "2018-08-28T06:25:26Z",
      "type": "payment",
      "status": "initial",
      "created": "2018-08-28T05:25:26Z",
      "confirmation_details": {
        "wallet_id": "12344321",
        "options": {
          "send_receipt_to": {
            "email":"buyer@mail.url"
          },
          "send_refund_to": {
            "email":"buyer@mail.url",
            "password":"hX,LsQ9z",
            "reference":"12344321"
          },
          "language_preference": "en-GB"
        },
        "note": "Please send it to 123 Street, Town, City, Country"
      },
      "verification_details": {}
    }
  ],
  "metrics": {
    "offset":"0",
    "limit":"20",
    "total":"100"
  }
}
</code></pre></div></div><div class="tab-pane" id="transactions_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="transactions_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/transactions</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /createPaymentRequest</p><p>Creates a new transaction of a given type. Currently three types of transactions are available:</p><ul><li>Payment (payment) - creates a payment request to be processed by the Merchant/Buyer in order to pay for an order created on Merchant&#39;s end,</li><li>Blockchain Transfer (blockchain-transfer) - transfers a requested currency (defined value) to a blockchain,</li><li>Coin File Transfer (coin-file-transfer) - exports a requested currency (defined value) to the Wallet-ready file.</li></ul><p>Each type of transaction&#39;s request has a diffent parameters and responses. In order to define which type of transaction should be created &#39;type&#39; parameter has to be set to the correct value.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transactions_post_request" data-toggle="tab">Request</a></li><li><a href="#transactions_post_response" data-toggle="tab">Response</a></li><li><a href="#transactions_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transactions_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentRequest</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>Currency used in this transaction. If not set then the default value from account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>A short information from the Merchant to be presentened to the Buyer e.g. a thank you note, confirmation of purchase. This may be usefull especially if there is no need for extra steps after payment is done i.e. by passing &#39;return_url&#39;. On ocasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. Notification may be used in such situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the purchased product may be obtained and/or order finalised. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;return_url&#39; such as "<a href="https://my.site.url/pay?in=12345">https://my.site.url/pay?in=12345</a>" will became "<a href="https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;return_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p>In general it is a good practice to provide a &#39;return_url&#39;.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/pay?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where notification about successfull transaction will be send. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;callback_url&#39; such as "<a href="https://my.site.url/complete?in=12345">https://my.site.url/complete?in=12345</a>" will became "<a href="https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;callback_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers (domains) that the Merchant accepts Coins from. If the Merchant will explicitly set &#39;home_issuer&#39; then automatically &#39;acceptable_issuers&#39; are set to "(<home_issuer>)" (home issuer put into brackets), meaning all issuers that the home issuer accepts will be accepted by the Merchant as well. If &#39;home_issuer&#39; is not explicitly set then &#39;acceptable_issuers&#39; are set to the default Gateway value.</home_issuer></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If not provided then &#39;email_customer_contact&#39; value is taken from the account&#39;s settings - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Possible modifications of transatcion&#39;s flow or additional options to be set.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing an option to send a receipt via email after successfull transaction.</p><p>If not provided then &#39;provide_receipt_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If not provided then &#39;provide_refund_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>(union of datetime or integer - default: 3600)</em><p>Either:</p><ul><li>a date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells till when this transaction is valid and can be proceeded</li><li>an integer - represents the number of seconds from now till when this transaction is valid and can be proceeded If not set then default value from the account&#39;s settings is taken. If this value is not set then Gateway&#39;s default value is taken.</li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>date</strong>:<br></p><pre><code>2018-12-18T22:22:22Z</code></pre><p><strong>integer</strong>:<br></p><pre><code>7200</code></pre></div></li></ul></div></li><li><p><strong>TransferBlockchainRequest</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>currency</strong>: <em>required (XBT)</em><p>Currency of coins to be transfered.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>value</strong>: <em>required (union of types.Value or types.ValueAll)</em><p>Value of coins to be transfered.</p><p>If &#39;value&#39; will be set to "all" all funds will be transfered.</p></li><li><strong>description</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>A short description that is meaningful to the Merchant. This description will be recorded in the transaction history.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>speed</strong>: <em>(one of fastest, soon, noHurry, minFee - default: fastest)</em><p>Determines the speed – and hence the miner fee applied to the blockchain transaction.</p></li><li><strong>address</strong>: <em>required (string - minLength: 26 - maxLength: 35)</em><p>A blockchain address.</p></li><li><strong>label</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>An additional way to describe the transaction. Also stored in the transaction history.</p></li></ul></div></li><li><p><strong>TransferCoinFileRequest</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>currency</strong>: <em>required (XBT)</em><p>Currency of coins to be transfered.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>value</strong>: <em>required (union of types.Value or types.ValueAll)</em><p>Value of coins to be transfered.</p><p>If &#39;value&#39; will be set to "all" all funds will be transfered.</p></li><li><strong>description</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>A short description that is meaningful to the Merchant. This description will be recorded in the transaction history.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>If present encrypt the extracted Coins in a format suitable for importing into a Bitcoin-express Client Wallet.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Reference number generated by the Wallet to bind this transaction with data storred in the Wallet, especially password</p></li></ul></div></li></ul></p></div><div class="tab-pane" id="transactions_post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of array - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentRequestResponse</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>Currency used in this transaction. If not set then the default value from account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>A short information from the Merchant to be presentened to the Buyer e.g. a thank you note, confirmation of purchase. This may be usefull especially if there is no need for extra steps after payment is done i.e. by passing &#39;return_url&#39;. On ocasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. Notification may be used in such situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the purchased product may be obtained and/or order finalised. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;return_url&#39; such as "<a href="https://my.site.url/pay?in=12345">https://my.site.url/pay?in=12345</a>" will became "<a href="https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;return_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p>In general it is a good practice to provide a &#39;return_url&#39;.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/pay?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where notification about successfull transaction will be send. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;callback_url&#39; such as "<a href="https://my.site.url/complete?in=12345">https://my.site.url/complete?in=12345</a>" will became "<a href="https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;callback_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers (domains) that the Merchant accepts Coins from. If the Merchant will explicitly set &#39;home_issuer&#39; then automatically &#39;acceptable_issuers&#39; are set to "(<home_issuer>)" (home issuer put into brackets), meaning all issuers that the home issuer accepts will be accepted by the Merchant as well. If &#39;home_issuer&#39; is not explicitly set then &#39;acceptable_issuers&#39; are set to the default Gateway value.</home_issuer></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If not provided then &#39;email_customer_contact&#39; value is taken from the account&#39;s settings - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Possible modifications of transatcion&#39;s flow or additional options to be set.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing an option to send a receipt via email after successfull transaction.</p><p>If not provided then &#39;provide_receipt_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If not provided then &#39;provide_refund_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells till when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the gateway where payment for this order should be send.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>A status of the transaction:</p><ul><li>initial - a payment was initialised but is not yet processed. It still can be modified and/or canceled,</li><li>resolved - a payment was successfully resolved. No more changes is allowed in this state,</li><li>aborted - a payment was aborted for some reason. No more changes is allowed in this state,</li><li>expired - a payment was not proceeded in set time. No more changes is allowed in this state,</li><li>processing - a payment is being processed at the moment. No more changes is allowed in this state.</li></ul></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul></div><div class="tab-pane" id="transactions_post_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transaction" class="panel-title">/transaction</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transaction__transaction_id_"><span class="parent">/transaction</span>/{transaction_id}</a> <span class="methods"><a href="#transaction__transaction_id__get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_transaction__transaction_id_" class="panel-collapse collapse"><div class="panel-body"><div class="resource-description"><p>Operations that work on a single, specified transation.</p></div><div class="list-group"><div onclick="window.location.href = '#transaction__transaction_id__get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Returns information about transaction. Depending on the type of transaction returned dataset can differ.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transaction__transaction_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/transaction</span>/{transaction_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Returns information about transaction. Depending on the type of transaction returned dataset can differ.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transaction__transaction_id__get_request" data-toggle="tab">Request</a></li><li><a href="#transaction__transaction_id__get_response" data-toggle="tab">Response</a></li><li><a href="#transaction__transaction_id__get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transaction__transaction_id__get_request"><h3>URI Parameters</h3><ul><li><strong>transaction_id</strong>: <em>required (string)</em></li></ul></div><div class="tab-pane" id="transaction__transaction_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of union - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentDetails</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>Currency used in this transaction. If not set then the default value from account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>A short information from the Merchant to be presentened to the Buyer e.g. a thank you note, confirmation of purchase. This may be usefull especially if there is no need for extra steps after payment is done i.e. by passing &#39;return_url&#39;. On ocasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. Notification may be used in such situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the purchased product may be obtained and/or order finalised. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;return_url&#39; such as "<a href="https://my.site.url/pay?in=12345">https://my.site.url/pay?in=12345</a>" will became "<a href="https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/pay?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;return_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p>In general it is a good practice to provide a &#39;return_url&#39;.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/pay?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where notification about successfull transaction will be send. &#39;transaction_id&#39; and &#39;order_id&#39; (if given) will be appended to this URL, e.g. &#39;callback_url&#39; such as "<a href="https://my.site.url/complete?in=12345">https://my.site.url/complete?in=12345</a>" will became "<a href="https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765">https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</a>" .</p><p>If &#39;callback_url&#39; is not set then default value from the account&#39;s settings is taken - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers (domains) that the Merchant accepts Coins from. If the Merchant will explicitly set &#39;home_issuer&#39; then automatically &#39;acceptable_issuers&#39; are set to "(<home_issuer>)" (home issuer put into brackets), meaning all issuers that the home issuer accepts will be accepted by the Merchant as well. If &#39;home_issuer&#39; is not explicitly set then &#39;acceptable_issuers&#39; are set to the default Gateway value.</home_issuer></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If not provided then &#39;email_customer_contact&#39; value is taken from the account&#39;s settings - if set.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Possible modifications of transatcion&#39;s flow or additional options to be set.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing an option to send a receipt via email after successfull transaction.</p><p>If not provided then &#39;provide_receipt_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant is providing a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If not provided then &#39;provide_refund_via_email&#39; value is taken from the account&#39;s settings - if set.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells till when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>A date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - tells when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the gateway where payment for this order should be send.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>A status of the transaction:</p><ul><li>initial - a payment was initialised but is not yet processed. It still can be modified and/or canceled,</li><li>resolved - a payment was successfully resolved. No more changes is allowed in this state,</li><li>aborted - a payment was aborted for some reason. No more changes is allowed in this state,</li><li>expired - a payment was not proceeded in set time. No more changes is allowed in this state,</li><li>processing - a payment is being processed at the moment. No more changes is allowed in this state.</li></ul></li><li><strong>confirmation_details</strong>: <em>(object)</em><p>Payment confirmation details send from the Buyer&#39;s Wallet to finalise the transaction.</p><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how returned data will be formated.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the payment.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present the Merchant should consider this as a request by the buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins before sending through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the &#39;reference&#39; element is present it should be echoed in the &#39;reference&#39; element of the refund file.</p></li></ul></li></ul></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "memo": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></li><li><strong>verification_details</strong>: <em>(object)</em><p>The data returned by the Issuer that verified the payment Coins.</p><ul></ul></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": true,
  "messages": [],
  "body":[{
    "value": "0.0000095",
    "currency": "XBT",
    "issuers": ["eu.carrotpay.com"],
    "description": "The art of asking",
    "email_customer_contact": "sales@my.site.url",
    "return_url": "https://my.site.url/pay?order=IN1234&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6",
    "policies": {
      "receipt_via_email": true,
      "refund_via_email": false
    },
    "payment_url": "https://my.site.url/payment",
    "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
    "order_id": "IN1234",
    "expires": "2018-08-28T06:25:26Z",
    "type": "payment",
    "status": "initial",
    "created": "2018-08-28T05:25:26Z"
  }]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>:</p><div class="items"><ul></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": false,
  "body": [],
  "messages": [
    {
      "type": "error",
      "body": "You are not authorised to view this transaction."
    }
  ]
}
</code></pre></div></div><div class="tab-pane" id="transaction__transaction_id__get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transaction__transaction_id__payment"><span class="parent">/transaction/{transaction_id}</span>/payment</a> <span class="methods"><a href="#transaction__transaction_id__payment_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_transaction__transaction_id__payment" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transaction__transaction_id__payment_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Old: /payment</p><p>Accepts object with information needed to complete the transaction, including Coins. Information procided in this request are send to an issuer and included in the original payment request object.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transaction__transaction_id__payment_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/transaction/{transaction_id}</span>/payment</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /payment</p><p>Accepts object with information needed to complete the transaction, including Coins. Information procided in this request are send to an issuer and included in the original payment request object.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transaction__transaction_id__payment_post_request" data-toggle="tab">Request</a></li><li><a href="#transaction__transaction_id__payment_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transaction__transaction_id__payment_post_request"><h3>URI Parameters</h3><ul><li><strong>transaction_id</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how returned data will be formated.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the payment.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present the Merchant should consider this as a request by the buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 6 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins before sending through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the &#39;reference&#39; element is present it should be echoed in the &#39;reference&#39; element of the refund file.</p></li></ul></li></ul></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>Unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>coins</strong>: <em>required (array of string - minItems: 1)</em><p>Base64 encoded Coins.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "coins": [
    "ewogICJhIjoiZzBZd2...",
    "ewogICJhIjoiZzBZd2..."
  ],
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "note": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></div><div class="tab-pane" id="transaction__transaction_id__payment_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: PaymentConfirmationResponse</p><div class="items"><ul><li><strong>status</strong>: <em>required (one of ok, not-found)</em><p>Information if payment was successfully proceeded.</p></li><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>return_url</strong>: <em>(string - maxLength: 256)</em><p>A string under which the Buyer can find and/or finalise the transaction and receive bought items. It can be interchangeably used with &#39;notification&#39; paramater if there is no need to further continue the process.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/pay?in=12345</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>A short information from the Merchant to be presentened to the Buyer e.g. a thank you note, confirmation of purchase. This may be usefull especially if there is no need for extra steps after payment is done i.e. by passing &#39;return_url&#39;. On ocasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. Notification may be used in such situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "status": "ok",
  "wallet_id": "123456789",
  "return_url": "https://my.site.url/download?prod=123&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6&amp;order_id=IN12345",
  "notification": "Thank you for your purchase!"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="accounts" class="panel-title">/accounts</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_accounts"><span class="parent"></span>/accounts</a> <span class="methods"><a href="#accounts_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_accounts" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#accounts_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="accounts_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/accounts</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#accounts_post_request" data-toggle="tab">Request</a></li><li><a href="#accounts_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="accounts_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>domain</strong>: <em>required (string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service. It is also used as a fallback mechanism in situation where &#39;return_url&#39; is not defined. If &#39;domain&#39; will be different than the &#39;return_url&#39;&#39;s domain then Merchant&#39;s account will be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>Email address for account related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address for customer related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Great Online Shop"
}
</code></pre></div></div><div class="tab-pane" id="accounts_post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountDetails</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service. It is also used as a fallback mechanism in situation where &#39;return_url&#39; is not defined. If &#39;domain&#39; will be different than the &#39;return_url&#39;&#39;s domain then Merchant&#39;s account will be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>Email address for account related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address for customer related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if there is no explicit currency set for a transaction. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the &#39;initial&#39; status will be marked as expired. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a receipt via email</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a refund via email</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway issuer is used. If &#39;home_issuer&#39; is set by the Merchant then automatically &#39;acceptable_issuers&#39; are set to "(<home_isser>)", meaning all issuers that the home issuer accepts will be accepted by the merchant as well.</home_isser></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li><li><strong>auth_token</strong>: <em>required (string)</em><p>Token used for the account authentication</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1p2o3i4u5y6t7r8e9w0q</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers (domains) that the Merchant accepts Coins from. If the Merchant will explicitly set &#39;home_issuer&#39; then automatically &#39;acceptable_issuers&#39; are set to "(<home_issuer>)" (home issuer put into brackets), meaning all issuers that the home issuer accepts will be accepted by the Merchant as well. If &#39;home_issuer&#39; is not explicitly set then &#39;acceptable_issuers&#39; are set to the default Gateway value.</home_issuer></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "auth_token": "1p2o3i4u5y6t7r8e9w0q",
  "acceptable_issuers": ["(eu.carrotpay.com)"],
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>"success":true,
"body":[{
  "auth_token": "123456789",
  "domain":"my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name":"John Smith"
  "default_payment_currency":"XBT",
  "default_payment_timeout":"3600"
  "provide_receipt_via_email":false
  "provide_refund_via_email":false,
  "home_issuer":"be.ap.rmp.net",
  "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
}],
"messages":[
  {
    "type":"info",
    "body":"Success! Your account is now active!"
  }
]
</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="account" class="panel-title">/account</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_account_settings"><span class="parent">/account</span>/settings</a> <span class="methods"><a href="#account_settings_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a> <a href="#account_settings_patch"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_account_settings" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#account_settings_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Get all current settings for the account</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#account_settings_patch'" class="list-group-item"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /setConfig</p><p>Modifies chosen account&#39;s settings</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_settings_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/settings</h4></div><div class="modal-body"><div class="alert alert-info"><p>Get all current settings for the account</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_settings_get_response" data-toggle="tab">Response</a></li><li><a href="#account_settings_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_settings_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountSettings</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service. It is also used as a fallback mechanism in situation where &#39;return_url&#39; is not defined. If &#39;domain&#39; will be different than the &#39;return_url&#39;&#39;s domain then Merchant&#39;s account will be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>Email address for account related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address for customer related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if there is no explicit currency set for a transaction. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the &#39;initial&#39; status will be marked as expired. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a receipt via email</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a refund via email</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway issuer is used. If &#39;home_issuer&#39; is set by the Merchant then automatically &#39;acceptable_issuers&#39; are set to "(<home_isser>)", meaning all issuers that the home issuer accepts will be accepted by the merchant as well.</home_isser></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>"success":true,
"body":[{
  "domain":"my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name":"John Smith"
  "default_payment_currency":"XBT",
  "default_payment_timeout":"3600"
  "provide_receipt_via_email":false
  "provide_refund_via_email":false,
  "home_issuer":"be.ap.rmp.net",
  "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
}],
"messages":[]
</code></pre></div></div><div class="tab-pane" id="account_settings_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_settings_patch"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/settings</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /setConfig</p><p>Modifies chosen account&#39;s settings</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_settings_patch_request" data-toggle="tab">Request</a></li><li><a href="#account_settings_patch_response" data-toggle="tab">Response</a></li><li><a href="#account_settings_patch_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_settings_patch_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service. It is also used as a fallback mechanism in situation where &#39;return_url&#39; is not defined. If &#39;domain&#39; will be different than the &#39;return_url&#39;&#39;s domain then Merchant&#39;s account will be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>Email address for account related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address for customer related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if there is no explicit currency set for a transaction. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the &#39;initial&#39; status will be marked as expired. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a receipt via email</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a refund via email</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway issuer is used. If &#39;home_issuer&#39; is set by the Merchant then automatically &#39;acceptable_issuers&#39; are set to "(<home_isser>)", meaning all issuers that the home issuer accepts will be accepted by the merchant as well.</home_isser></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div><div class="tab-pane" id="account_settings_patch_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountSettings</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service. It is also used as a fallback mechanism in situation where &#39;return_url&#39; is not defined. If &#39;domain&#39; will be different than the &#39;return_url&#39;&#39;s domain then Merchant&#39;s account will be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>Email address for account related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 6 - maxLength: 256)</em><p>An email address for customer related queries</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if there is no explicit currency set for a transaction. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the &#39;initial&#39; status will be marked as expired. If it&#39;s not defined neither in the transaction nor on the Merchant&#39;s account then default Gateway setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a receipt via email</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant is providing an option to send a refund via email</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway issuer is used. If &#39;home_issuer&#39; is set by the Merchant then automatically &#39;acceptable_issuers&#39; are set to "(<home_isser>)", meaning all issuers that the home issuer accepts will be accepted by the merchant as well.</home_isser></p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>"success":true,
"body":[{
  "domain":"my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name":"John Smith"
  "default_payment_currency":"XBT",
  "default_payment_timeout":"3600"
  "provide_receipt_via_email":false
  "provide_refund_via_email":false,
  "home_issuer":"be.ap.rmp.net",
  "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
}],
"messages":[
  {
    "type": "info",
    "body": "Your settings were updated!"
  }
]
</code></pre></div></div><div class="tab-pane" id="account_settings_patch_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_account_balance"><span class="parent">/account</span>/balance</a> <span class="methods"><a href="#account_balance_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_account_balance" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#account_balance_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: getBalance</p><p>Get a list of currency balances</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_balance_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/balance</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: getBalance</p><p>Get a list of currency balances</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_balance_get_request" data-toggle="tab">Request</a></li><li><a href="#account_balance_get_response" data-toggle="tab">Response</a></li><li><a href="#account_balance_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_balance_get_request"><h3>Query Parameters</h3><ul><li><strong>currency</strong>: <em>(Currency)</em><p>For which currency should the balance be returned for.</p></li></ul></div><div class="tab-pane" id="account_balance_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountBalance</p><div class="items"><ul><li><strong>currency</strong>: <em>required (XBT)</em><p>Currency for which this balance is for.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Total value of coins in a given currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>number_of_coins</strong>: <em>required (integer - minimum: 1)</em><p>Number of coins in a given currency.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "currency": "XBT",
  "value": "0.00001230",
  "number_of_coins": 61
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Information if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li>info - information related to confirmation of successfully proceeded operation,</li><li>warning - non-fatal information. Operation succeeded but something happened in the progress,</li><li>notice - information not related to proceeded information,</li><li>error - fatal information. Operation did not proceed as expected,</li><li>prompt - action is needed to be taken by the message consumer. Actions are passed in &#39;actions&#39; parameter.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for &#39;prompt&#39; type of message.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything that can identify action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>set-currency</strong>:<br></p><pre><code>{
  "success":true,
  "body":[
    {
      "currency": "XBT",
      "value": "0.00120000",
      "coins": 121
    }
  ],
  "messages":[]
}
</code></pre><p><strong>all-currencies</strong>:<br></p><pre><code>{
  "success":true,
  "body":[
    {
      "currency": "XBT",
      "value": "0.00120000",
      "number_of_coins": 121
    },
    {
      "currency": "ETH",
      "value": "0.00200000",
      "number_of_coins": 63
    }
  ],
  "messages":[]
}
</code></pre></div></div><div class="tab-pane" id="account_balance_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#transactions">/transactions</a></li><li><a href="#transaction">/transaction</a></li><li><a href="#accounts">/accounts</a></li><li><a href="#account">/account</a></li></ul></div></div></div></div></body></html>