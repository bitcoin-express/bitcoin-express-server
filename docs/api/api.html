<!DOCTYPE HTML><html><head><title>Bitcoin-Express Merchant Gateway API documentation</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 7.2.1"><link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-1.11.0.min.js"></script><script type="text/javascript" src="https://netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
  $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });

  $('[data-toggle]').click(function() {
    var selector = $(this).data('target') + ' pre code';
    $(selector).each(function(i, block) {
      hljs.highlightBlock(block);
    });
  });

  // open modal on hashes like #_action_get
  $(window).bind('hashchange', function(e) {
    var anchor_id = document.location.hash.substr(1); //strip #
    var element = $('#' + anchor_id);

    // do we have such element + is it a modal?  --> show it
    if (element.length && element.hasClass('modal')) {
      element.modal('show');
    }
  });

  // execute hashchange on first page load
  $(window).trigger('hashchange');

  // remove url fragment on modal hide
  $('.modal').on('hidden.bs.modal', function() {
    try {
      if (history && history.replaceState) {
          history.replaceState({}, '', '#');
      }
    } catch(e) {}
  });
});
    </script><style>
      .hljs {
  background: transparent;
}
.parent {
  color: #999;
}
.list-group-item > .badge {
  float: none;
  margin-right: 6px;
}
.panel-title > .methods {
  float: right;
}
.badge {
  border-radius: 0;
  text-transform: uppercase;
  width: 70px;
  font-weight: normal;
  color: #f3f3f6;
  line-height: normal;
}
.badge_get {
  background-color: #63a8e2;
}
.badge_post {
  background-color: #6cbd7d;
}
.badge_put {
  background-color: #22bac4;
}
.badge_delete {
  background-color: #d26460;
}
.badge_patch {
  background-color: #ccc444;
}
.list-group,
.panel-group {
  margin-bottom: 0;
}
.panel-group .panel+.panel-white {
  margin-top: 0;
}
.panel-group .panel-white {
  border-bottom: 1px solid #F5F5F5;
  border-radius: 0;
}
.panel-white:last-child {
  border-bottom-color: white;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.panel-white .panel-heading {
  background: white;
}
.tab-pane ul {
  padding-left: 2em;
}
.tab-pane h1 {
  font-size: 1.3em;
}
.tab-pane h2 {
  font-size: 1.2em;
  padding-bottom: 4px;
  border-bottom: 1px solid #ddd;
}
.tab-pane h3 {
  font-size: 1.1em;
}
.tab-content {
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
  padding: 10px;
}
#sidebar {
  margin-top: 30px;
  padding-right: 5px;
  overflow: auto;
  height: 90%;
}
.top-resource-description {
  border-bottom: 1px solid #ddd;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description {
  border-bottom: 1px solid #fcfcfc;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description p:last-child {
  margin: 0;
}
.list-group .badge {
  float: left;
}
.method_description {
  margin-left: 85px;
}
.method_description p:last-child {
  margin: 0;
}
.list-group-item {
  cursor: pointer;
}
.list-group-item:hover {
  background-color: #f5f5f5;
}
pre code {
  overflow: auto;
  word-wrap: normal;
  white-space: pre;
}
.items {
  background: #f5f5f5;
  color: #333;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
}
.examples {
  margin-left: 0.5em;
}
.resource-modal li > ul {
  margin-bottom: 1em;
}
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>Bitcoin-Express Merchant Gateway API documentation <small>version v1.0a</small></h1><p>https://api.gateway.url/{version}</p><p>This is an initial draft of documentation for Bitcoin-Express Merchant Gateway API.</p><p>Bitcoin-Express Merchant Gateway API provides means to communicate with the Gateway and supports all operations described in Bitcoin-Express Payment Integration Guide.</p><p>Detailed information about supported operations can be found under its&#39; descriptions.</p><p>Most operations require authentication with a valid <em>authentication token</em>. All operations&#39; responses are in a form of <strong>enveloped JSON</strong>:</p><pre><code>{
"body": [ &lt;object 1&gt;, &lt;object 2&gt;, ... ],
"success": true,
"messages": [ &lt;Message 1&gt;, &lt;Message 2&gt;, ...]
}
</code></pre><p>where:</p><ul><li><strong>body</strong> - will always contain the result of an operation or an empty array in case of lack of results. Even if an operation is supposed to return one result, for consistency it will be wrapped in an array,</li><li><strong>success</strong> - success indicator. Tells if the whole operation succeeded or not. It&#39;s very helpful especially when an operation is not returning any results to indicate what&#39;s the reason behind it and if it&#39;s expected,</li><li><strong>messages</strong> - a list of messages of various types, that can be consumed by the caller. It provides information about encountered errors and the operations&#39; results. The format is described in details under operations&#39; output section.</li></ul><p>In a case where an operation requires authentication and there is no authentication token provided or it&#39;s invalid an empty 401 response will be returned.</p><ul><li><strong>version</strong>: <em>required (v1.0a)</em></li></ul></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transactions" class="panel-title">/transactions</h3></div><div class="panel-body"><div class="top-resource-description"><p>This endpoint provides an option to work on a collection of transactions&#39; objects. This includes retrieving a collection or creating a new object in the collection.</p><p>All operations on this endpoint require authentication and work on authenticated account only.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transactions"><span class="parent"></span>/transactions</a> <span class="methods"><a href="#transactions_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a> <a href="#transactions_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_transactions" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transactions_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /getTransactions</p><p>Returns all transactions that match given parameters and belong to the authenticated account. It is possible that an empty set will be returned if there are no transactions matching the search criteria. In that case <strong>success</strong> key from the <em>JSON envelope</em> will indicate if the operation succeeded.</p><p>All parameters are optional.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#transactions_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /createPaymentRequest</p><p>Creates a new transaction of a requested type. Currently, three types of transactions are available:</p><ul><li>Payment (payment) - creates a payment request to be processed by the Merchant/Buyer in order to pay for an order created on Merchant&#39;s end,</li><li>Blockchain Transfer (blockchain-transfer) - transfers a requested currency (defined value) to a blockchain,</li><li>Coin File Transfer (coin-file-transfer) - exports a requested currency (defined value) to the Wallet-ready file.</li></ul><p>Each type of transaction&#39;s request has a different parameters and responses. In order to define which type of transaction should be created <strong><em>type</em></strong> parameter has to be set to the required value.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transactions_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/transactions</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /getTransactions</p><p>Returns all transactions that match given parameters and belong to the authenticated account. It is possible that an empty set will be returned if there are no transactions matching the search criteria. In that case <strong>success</strong> key from the <em>JSON envelope</em> will indicate if the operation succeeded.</p><p>All parameters are optional.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transactions_get_request" data-toggle="tab">Request</a></li><li><a href="#transactions_get_response" data-toggle="tab">Response</a></li><li><a href="#transactions_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transactions_get_request"><h3>Query Parameters</h3><ul><li><strong>offset</strong>: <em>(integer - default: 0)</em><p>Index of the element in the found collection, from which the returned dataset should begin.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>100</code></pre></div></li><li><strong>limit</strong>: <em>(integer - default: 100)</em><p>A maximum number of items to be returned in the dataset.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>100</code></pre></div></li><li><strong>order_by</strong>: <em>(one of paid, created - default: created)</em><p>Field to sort the returned dataset on. Not all transaction types will support all order fields. <strong><em>paid</em></strong> order by value is to be used with <strong>Payment</strong> type of transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>created</code></pre></div></li><li><strong>order</strong>: <em>(one of ascending, descending - default: descending)</em><p>Direction to sort the returned dataset on - either as ascending or descending.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>ascending</code></pre></div></li><li><strong>before</strong>: <em>(datetime)</em><p>Shows only records created before this date/time. Uses ISO 8601 as a date/time format. Can be used in conjunction with <strong><em>after</em></strong> parameter.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-12-24T12:00:00Z</code></pre></div></li><li><strong>after</strong>: <em>(datetime)</em><p>Shows only records created after this date/time. Uses ISO 8601 as a date/time format. Can be used in conjunction with <strong><em>before</em></strong> parameter.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2018-12-24T12:00:00Z</code></pre></div></li><li><strong>type</strong>: <em>(one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>status</strong>: <em>(one of initial, resolved, expired, aborted, processing)</em><p>Shows only records in a given status. If this parameter is set then <strong><em>only_valid</em></strong> parameter is ignored, even if explicitly defined.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>initial</code></pre></div></li><li><strong>only_valid</strong>: <em>(boolean - default: true)</em><p>By default only valid, non-expired transactions are returned. This includes <strong><em>initial</em></strong>, <strong><em>resolved</em></strong> and <strong><em>processing</em></strong> statuses. In order to get transactions in all statuses set this option to <strong><em>false</em></strong>.</p></li></ul></div><div class="tab-pane" id="transactions_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>This method always returns enveloped JSON with the returned dataset placed under the <strong><em>body</em></strong> key. If no results were found either because there were no transactions registered under the authenticated account or due to search parameters an empty array will be returned.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of array - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>Payment</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>The currency used in this transaction.</p><p>If it is not explicitly set then the <strong><em>default_payment_currency</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description/title of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Short information from the Merchant to be presented to the Buyer e.g. a thank you note, confirmation of purchase. This may be useful especially if there is no need for extra steps after payment is done i.e. by passing <strong><em>return_url</em></strong>. On occasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. A notification may be used in such a situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL&#39;/ where the purchased product may be obtained and/or order finalized. The Gateway will additionaly include two parameters in the <strong><em>return_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/order?in=12345</code> will became <code>https://my.site.url/order?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/order?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>return_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p>In general, it is a good practice to provide a <strong><em>return_url</em></strong>.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/order?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the notification about successful transaction will be sent. The Gateway will additionaly include two parameters in the <strong><em>callback_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/complete?in=12345</code> will became <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>callback_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers&#39; domains that the Merchant accepts Coins from. If the Merchant will explicitly set <strong><em>home_issuer</em></strong> in the Merchant&#39;s account settings then by default <strong><em>acceptable_issuers</em></strong> value is set to _["(<home_issuer>)"]_ (home issuer put into brackets). This delegates the responsibility for providing a list of acceptable issuers to the <em>Home Issuer</em>, meaning all issuers that the <em>Home Issuer</em> accepts will be accepted by the Merchant as well.</home_issuer></p><p>If <strong><em>home_issuer</em></strong> is not explicitly set then <strong><em>acceptable_issuers</em></strong> will use the Gateway&#39;s default value set by the Gateway&#39;s operator.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If it is not explicitly set then the <strong><em>email_customer_contact</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Chosen modifications of transaction&#39;s behavior. Options in this section influence the transaction flow and change how the transaction will be processed.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicator if the Merchant provides an option to send a receipt via email after successfull transaction.</p><p>If it is not explicitly set then the <strong><em>provide_receipt_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant provides a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If it is not explicitly set then the <strong><em>provide_refund_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates utill when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>An unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the Gateway where payment confirmation for this transaction should be sent.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>Status of the transaction:</p><ul><li><strong>initial</strong> - a transaction was initialized but is not yet processed. It still can be modified and/or canceled,</li><li><strong>resolved</strong> - a transaction was successfully resolved. No more changes are allowed in this state,</li><li><strong>aborted</strong> - a transaction was aborted for some reason. No more changes are allowed in this state,</li><li><strong>expired</strong> - a transaction did not proceed in the set time. No more changes are allowed in this state,</li><li><strong>processing</strong> - a transaction is being processed at the moment. No more changes are allowed in this state.</li></ul></li><li><strong>confirmation_details</strong>: <em>(object)</em><p>Payment confirmation details send from the Buyer&#39;s Wallet to finalize the transaction.</p><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how the returned data will be formatted.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the transaction. These options may influence the transaction&#39;s process but are not required for the transaction to be processed.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present, the Merchant should consider this as a request by the Buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins with before sending them through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the <strong><em>reference</em></strong> element is present it should be echoed in the <strong><em>reference</em></strong> element of the refund file.</p></li></ul></li></ul></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "memo": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></li><li><strong>verification_details</strong>: <em>(object)</em><p>The data returned by the Issuer that verified <em>Coins</em> used in the transaction. The Gateway is not modifying this data in any way. Please refer to issuer specification for the detailed description of this structure.</p><ul></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "actualValue":"0.00088900",
  "changeValue":"0.00000000",
  "currency":"XBT",
  "exchangedValue":"0.00000000",
  "faceValue":"0.00088900",
  "fees":[
    {
      "domain":"eu.carrotpay.com",
      "totalFee":"0.00000454",
      "valueFee":"0.00000454"
    }
  ],
  "issuePolicy":"single",
  "reference":"67972259-4d91-4a88-b0b0-f525a4c2ce29",
  "targetValue":"0.00088900",
  "totalFee":"0.00000454",
  "verifiedValue":"0.00088446"
}
</code></pre></div></li><li><strong>paid</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates when this transaction was paid.</p></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": true,
  "messages": [],
  "body":[
    {
      "value": "0.0000095",
      "currency": "XBT",
      "issuers": ["eu.carrotpay.com"],
      "description": "The art of asking",
      "email_customer_contact": "sales@my.site.url",
      "return_url": "https://my.site.url/pay?order=IN1234&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6",
      "policies": {
        "receipt_via_email": true,
        "refund_via_email": false
      },
      "payment_url": "https://my.site.url/payment",
      "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
      "order_id": "IN1234",
      "expires": "2018-08-28T06:25:26Z",
      "type": "payment",
      "status": "initial",
      "created": "2018-08-28T05:25:26Z",
      "confirmation_details": {
        "wallet_id": "12344321",
        "options": {
          "send_receipt_to": {
            "email":"buyer@mail.url"
          },
          "send_refund_to": {
            "email":"buyer@mail.url",
            "password":"hX,LsQ9z",
            "reference":"12344321"
          },
          "language_preference": "en-GB"
        },
        "note": "Please send it to 123 Street, Town, City, Country"
      },
      "verification_details": {}
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during retrieving transactions. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your search parameters.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "success":false,
    "body":[],
    "messages":[
        {
            "type":"error",
            "body":"An example of the error message"
        }
    ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="transactions_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="transactions_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/transactions</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /createPaymentRequest</p><p>Creates a new transaction of a requested type. Currently, three types of transactions are available:</p><ul><li>Payment (payment) - creates a payment request to be processed by the Merchant/Buyer in order to pay for an order created on Merchant&#39;s end,</li><li>Blockchain Transfer (blockchain-transfer) - transfers a requested currency (defined value) to a blockchain,</li><li>Coin File Transfer (coin-file-transfer) - exports a requested currency (defined value) to the Wallet-ready file.</li></ul><p>Each type of transaction&#39;s request has a different parameters and responses. In order to define which type of transaction should be created <strong><em>type</em></strong> parameter has to be set to the required value.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transactions_post_request" data-toggle="tab">Request</a></li><li><a href="#transactions_post_response" data-toggle="tab">Response</a></li><li><a href="#transactions_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transactions_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentRequest</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>The currency used in this transaction.</p><p>If it is not explicitly set then the <strong><em>default_payment_currency</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description/title of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Short information from the Merchant to be presented to the Buyer e.g. a thank you note, confirmation of purchase. This may be useful especially if there is no need for extra steps after payment is done i.e. by passing <strong><em>return_url</em></strong>. On occasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. A notification may be used in such a situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL&#39;/ where the purchased product may be obtained and/or order finalized. The Gateway will additionaly include two parameters in the <strong><em>return_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/order?in=12345</code> will became <code>https://my.site.url/order?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/order?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>return_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p>In general, it is a good practice to provide a <strong><em>return_url</em></strong>.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/order?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the notification about successful transaction will be sent. The Gateway will additionaly include two parameters in the <strong><em>callback_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/complete?in=12345</code> will became <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>callback_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers&#39; domains that the Merchant accepts Coins from. If the Merchant will explicitly set <strong><em>home_issuer</em></strong> in the Merchant&#39;s account settings then by default <strong><em>acceptable_issuers</em></strong> value is set to _["(<home_issuer>)"]_ (home issuer put into brackets). This delegates the responsibility for providing a list of acceptable issuers to the <em>Home Issuer</em>, meaning all issuers that the <em>Home Issuer</em> accepts will be accepted by the Merchant as well.</home_issuer></p><p>If <strong><em>home_issuer</em></strong> is not explicitly set then <strong><em>acceptable_issuers</em></strong> will use the Gateway&#39;s default value set by the Gateway&#39;s operator.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If it is not explicitly set then the <strong><em>email_customer_contact</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Chosen modifications of transaction&#39;s behavior. Options in this section influence the transaction flow and change how the transaction will be processed.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicator if the Merchant provides an option to send a receipt via email after successfull transaction.</p><p>If it is not explicitly set then the <strong><em>provide_receipt_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant provides a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If it is not explicitly set then the <strong><em>provide_refund_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>(union of datetime or integer - default: 3600)</em><p>Either:</p><ul><li>date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates till when this transaction is valid and can be proceeded</li><li>an integer - represents the number of seconds from now utill when this transaction is valid and can be proceeded</li></ul><p>If not explicitly set then the default value from the Marchant account&#39;s settings is taken.</p><p><strong>Examples</strong>:</p><div class="examples"><p><strong>date</strong>:<br></p><pre><code>2018-12-18T22:22:22Z</code></pre><p><strong>integer</strong>:<br></p><pre><code>7200</code></pre></div></li></ul></div></li><li><p><strong>TransferBlockchainRequest</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>currency</strong>: <em>required (XBT)</em><p>Currency of <em>Coins</em> to be transfered.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>value</strong>: <em>required (union of types.Value or types.ValueAll)</em><p>Value of <em>Coins</em> to be transfered.</p><p>If <strong><em>value</em></strong> is explicitly set to <strong><em>all</em></strong> then all funds of a given currency will be transfered.</p></li><li><strong>description</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>A short description that is meaningful to the Merchant. This description will be recorded in the transactions&#39; history.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>speed</strong>: <em>(one of fastest, soon, noHurry, minFee - default: fastest)</em><p>Determines the speed – and hence the miner&#39;s fee - applied to the blockchain transaction.</p></li><li><strong>address</strong>: <em>required (string - minLength: 26 - maxLength: 35)</em><p>A blockchain address.</p></li><li><strong>label</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>An additional way to describe the transaction. Also stored in the transaction history.</p></li></ul></div></li></ul></p></div><div class="tab-pane" id="transactions_post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of array - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>PaymentRequestResponse</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>The currency used in this transaction.</p><p>If it is not explicitly set then the <strong><em>default_payment_currency</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description/title of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Short information from the Merchant to be presented to the Buyer e.g. a thank you note, confirmation of purchase. This may be useful especially if there is no need for extra steps after payment is done i.e. by passing <strong><em>return_url</em></strong>. On occasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. A notification may be used in such a situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL&#39;/ where the purchased product may be obtained and/or order finalized. The Gateway will additionaly include two parameters in the <strong><em>return_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/order?in=12345</code> will became <code>https://my.site.url/order?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/order?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>return_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p>In general, it is a good practice to provide a <strong><em>return_url</em></strong>.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/order?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the notification about successful transaction will be sent. The Gateway will additionaly include two parameters in the <strong><em>callback_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/complete?in=12345</code> will became <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>callback_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers&#39; domains that the Merchant accepts Coins from. If the Merchant will explicitly set <strong><em>home_issuer</em></strong> in the Merchant&#39;s account settings then by default <strong><em>acceptable_issuers</em></strong> value is set to _["(<home_issuer>)"]_ (home issuer put into brackets). This delegates the responsibility for providing a list of acceptable issuers to the <em>Home Issuer</em>, meaning all issuers that the <em>Home Issuer</em> accepts will be accepted by the Merchant as well.</home_issuer></p><p>If <strong><em>home_issuer</em></strong> is not explicitly set then <strong><em>acceptable_issuers</em></strong> will use the Gateway&#39;s default value set by the Gateway&#39;s operator.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If it is not explicitly set then the <strong><em>email_customer_contact</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Chosen modifications of transaction&#39;s behavior. Options in this section influence the transaction flow and change how the transaction will be processed.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicator if the Merchant provides an option to send a receipt via email after successfull transaction.</p><p>If it is not explicitly set then the <strong><em>provide_receipt_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant provides a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If it is not explicitly set then the <strong><em>provide_refund_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates utill when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>An unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the Gateway where payment confirmation for this transaction should be sent.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>Status of the transaction:</p><ul><li><strong>initial</strong> - a transaction was initialized but is not yet processed. It still can be modified and/or canceled,</li><li><strong>resolved</strong> - a transaction was successfully resolved. No more changes are allowed in this state,</li><li><strong>aborted</strong> - a transaction was aborted for some reason. No more changes are allowed in this state,</li><li><strong>expired</strong> - a transaction did not proceed in the set time. No more changes are allowed in this state,</li><li><strong>processing</strong> - a transaction is being processed at the moment. No more changes are allowed in this state.</li></ul></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during transaction creation. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your input data.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "success":false,
    "body":[],
    "messages":[
        {
            "type":"error",
            "body":"An example of the error message"
        }
    ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="transactions_post_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="transaction" class="panel-title">/transaction</h3></div><div class="panel-body"><div class="top-resource-description"><p>This endpoint operates on a single transaction&#39;s object specified by the <strong><em>transaction_id</em></strong> passed in the URL.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transaction__transaction_id_"><span class="parent">/transaction</span>/{transaction_id}</a> <span class="methods"><a href="#transaction__transaction_id__get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_transaction__transaction_id_" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transaction__transaction_id__get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Returns information about transaction specified by the <strong><em>transaction_id</em></strong>. Depending on the type of the requested transaction returned dataset may differ. Only transactions belonging to the authenticated account can be retrieved.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transaction__transaction_id__get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/transaction</span>/{transaction_id}</h4></div><div class="modal-body"><div class="alert alert-info"><p>Returns information about transaction specified by the <strong><em>transaction_id</em></strong>. Depending on the type of the requested transaction returned dataset may differ. Only transactions belonging to the authenticated account can be retrieved.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transaction__transaction_id__get_request" data-toggle="tab">Request</a></li><li><a href="#transaction__transaction_id__get_response" data-toggle="tab">Response</a></li><li><a href="#transaction__transaction_id__get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transaction__transaction_id__get_request"><h3>URI Parameters</h3><ul><li><strong>transaction_id</strong>: <em>required (string)</em></li></ul></div><div class="tab-pane" id="transaction__transaction_id__get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of union - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Possible types</strong>:<ul><li><p><strong>Payment</strong></p><div class="items"><ul><li><strong>type</strong>: <em>required (one of payment, blockchain-transfer, coin-file-transfer)</em><p>Type of the transaction. It represents the internal representation of the transaction object&#39;s and it&#39;s capabilities.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>payment</code></pre></div></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Value of the transaction in set currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>currency</strong>: <em>(XBT)</em><p>The currency used in this transaction.</p><p>If it is not explicitly set then the <strong><em>default_payment_currency</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>description</strong>: <em>required (string - minLength: 1 - maxLength: 64)</em><p>A short description/title of this transaction/purchase to be shown to the Buyer.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Neverending story - DVD collection</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Short information from the Merchant to be presented to the Buyer e.g. a thank you note, confirmation of purchase. This may be useful especially if there is no need for extra steps after payment is done i.e. by passing <strong><em>return_url</em></strong>. On occasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. A notification may be used in such a situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL&#39;/ where the purchased product may be obtained and/or order finalized. The Gateway will additionaly include two parameters in the <strong><em>return_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/order?in=12345</code> will became <code>https://my.site.url/order?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/order?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>return_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p>In general, it is a good practice to provide a <strong><em>return_url</em></strong>.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/order?in=12345</code></pre></div></li><li><strong>callback_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL where the notification about successful transaction will be sent. The Gateway will additionaly include two parameters in the <strong><em>callback_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/complete?in=12345</code> will became <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/complete?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>callback_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/complete?in=12345</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers&#39; domains that the Merchant accepts Coins from. If the Merchant will explicitly set <strong><em>home_issuer</em></strong> in the Merchant&#39;s account settings then by default <strong><em>acceptable_issuers</em></strong> value is set to _["(<home_issuer>)"]_ (home issuer put into brackets). This delegates the responsibility for providing a list of acceptable issuers to the <em>Home Issuer</em>, meaning all issuers that the <em>Home Issuer</em> accepts will be accepted by the Merchant as well.</home_issuer></p><p>If <strong><em>home_issuer</em></strong> is not explicitly set then <strong><em>acceptable_issuers</em></strong> will use the Gateway&#39;s default value set by the Gateway&#39;s operator.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address that can be used to contact the Merchant about the order.</p><p>If it is not explicitly set then the <strong><em>email_customer_contact</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>policies</strong>: <em>(object)</em><p>Chosen modifications of transaction&#39;s behavior. Options in this section influence the transaction flow and change how the transaction will be processed.</p><ul><li><strong>receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicator if the Merchant provides an option to send a receipt via email after successfull transaction.</p><p>If it is not explicitly set then the <strong><em>provide_receipt_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li><li><strong>refund_via_email</strong>: <em>(boolean - default: false)</em><p>Information if the Merchant provides a refund option via email. The actual refund mechanism is to be implemented on the Merchant&#39;s end.</p><p>If it is not explicitly set then the <strong><em>provide_refund_via_email</em></strong> setting from the Merchant account&#39;s config will be taken.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "receipt_via_email": true,
  "refund_via_email": false
}
</code></pre></div></li><li><strong>expires</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates utill when this transaction is valid and can be proceeded.</p></li><li><strong>transaction_id</strong>: <em>required (string - minLength: 36 - maxLength: 36)</em><p>An unique identifier generated by the Gateway to identify this transaction.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>97e00590-aa8a-11e8-a18f-4d64691098e6</code></pre></div></li><li><strong>created</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates when this transaction was created.</p></li><li><strong>payment_url</strong>: <em>required (string - minLength: 4 - maxLength: 256)</em><p>An URL created by the Gateway where payment confirmation for this transaction should be sent.</p></li><li><strong>status</strong>: <em>required (one of initial, resolved, aborted, expired, processing - default: initial)</em><p>Status of the transaction:</p><ul><li><strong>initial</strong> - a transaction was initialized but is not yet processed. It still can be modified and/or canceled,</li><li><strong>resolved</strong> - a transaction was successfully resolved. No more changes are allowed in this state,</li><li><strong>aborted</strong> - a transaction was aborted for some reason. No more changes are allowed in this state,</li><li><strong>expired</strong> - a transaction did not proceed in the set time. No more changes are allowed in this state,</li><li><strong>processing</strong> - a transaction is being processed at the moment. No more changes are allowed in this state.</li></ul></li><li><strong>confirmation_details</strong>: <em>(object)</em><p>Payment confirmation details send from the Buyer&#39;s Wallet to finalize the transaction.</p><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how the returned data will be formatted.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the transaction. These options may influence the transaction&#39;s process but are not required for the transaction to be processed.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present, the Merchant should consider this as a request by the Buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins with before sending them through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the <strong><em>reference</em></strong> element is present it should be echoed in the <strong><em>reference</em></strong> element of the refund file.</p></li></ul></li></ul></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "memo": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></li><li><strong>verification_details</strong>: <em>(object)</em><p>The data returned by the Issuer that verified <em>Coins</em> used in the transaction. The Gateway is not modifying this data in any way. Please refer to issuer specification for the detailed description of this structure.</p><ul></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "actualValue":"0.00088900",
  "changeValue":"0.00000000",
  "currency":"XBT",
  "exchangedValue":"0.00000000",
  "faceValue":"0.00088900",
  "fees":[
    {
      "domain":"eu.carrotpay.com",
      "totalFee":"0.00000454",
      "valueFee":"0.00000454"
    }
  ],
  "issuePolicy":"single",
  "reference":"67972259-4d91-4a88-b0b0-f525a4c2ce29",
  "targetValue":"0.00088900",
  "totalFee":"0.00000454",
  "verifiedValue":"0.00088446"
}
</code></pre></div></li><li><strong>paid</strong>: <em>required (datetime)</em><p>Date in ISO 6801 format (e.g. 2018-12-18T22:22:22Z) - indicates when this transaction was paid.</p></li></ul></div></li><li><p><strong>Other types - to be implemented</strong></p><div class="items"><ul></ul></div></li></ul></p></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": true,
  "messages": [],
  "body":[{
    "value": "0.0000095",
    "currency": "XBT",
    "issuers": ["eu.carrotpay.com"],
    "description": "The art of asking",
    "email_customer_contact": "sales@my.site.url",
    "return_url": "https://my.site.url/pay?order=IN1234&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6",
    "policies": {
      "receipt_via_email": true,
      "refund_via_email": false
    },
    "payment_url": "https://my.site.url/payment",
    "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
    "order_id": "IN1234",
    "expires": "2018-08-28T06:25:26Z",
    "type": "payment",
    "status": "initial",
    "created": "2018-08-28T05:25:26Z"
  }]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during retrieving transactions. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your search parameters.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "success":false,
    "body":[],
    "messages":[
        {
            "type":"error",
            "body":"An example of the error message"
        }
    ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="transaction__transaction_id__get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_transaction__transaction_id__payment"><span class="parent">/transaction/{transaction_id}</span>/payment</a> <span class="methods"><a href="#transaction__transaction_id__payment_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_transaction__transaction_id__payment" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#transaction__transaction_id__payment_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"><p>Old: /payment</p><p>This endpoint works only on <strong>payment</strong> transaction&#39;s type. As this endpoint is supposed to be called by the Buyer it is not requiring authentication of any sort.</p><p>It accepts payment confirmation object with data needed to complete the transaction, including <em>Coins</em>. Data provided in this request is sent to the Issuer and saved in the original payment transaction object for reference.</p><p>In case of an error, apart from standard success indicators in <strong><em>success</em></strong> and <strong><em>messages</em></strong> keys it will return PaymentAck object under index 0 of the <strong><em>body</em></strong> key with the <strong><em>status</em></strong> key as described in Bitcoin-Express&#39; Payment specification.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="transaction__transaction_id__payment_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent">/transaction/{transaction_id}</span>/payment</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /payment</p><p>This endpoint works only on <strong>payment</strong> transaction&#39;s type. As this endpoint is supposed to be called by the Buyer it is not requiring authentication of any sort.</p><p>It accepts payment confirmation object with data needed to complete the transaction, including <em>Coins</em>. Data provided in this request is sent to the Issuer and saved in the original payment transaction object for reference.</p><p>In case of an error, apart from standard success indicators in <strong><em>success</em></strong> and <strong><em>messages</em></strong> keys it will return PaymentAck object under index 0 of the <strong><em>body</em></strong> key with the <strong><em>status</em></strong> key as described in Bitcoin-Express&#39; Payment specification.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#transaction__transaction_id__payment_post_request" data-toggle="tab">Request</a></li><li><a href="#transaction__transaction_id__payment_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="transaction__transaction_id__payment_post_request"><h3>URI Parameters</h3><ul><li><strong>transaction_id</strong>: <em>required (string)</em></li></ul><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>client_type</strong>: <em>(one of web, app - default: web)</em><p>Indicates the type of the client that is sending the request. In the future may affect how the returned data will be formatted.</p></li><li><strong>memo</strong>: <em>(string - minLength: 1 - maxLength: 256)</em><p>A short message from the Buyer to the Merchant.</p></li><li><strong>options</strong>: <em>(object)</em><p>Additional information and flags for the transaction. These options may influence the transaction&#39;s process but are not required for the transaction to be processed.</p><ul><li><strong>language_preference</strong>: <em>(string)</em><p>The ISO 631-1 language code of the Buyer&#39;s preferred language (including email communications). If the Merchant is able to respond in this language they should do so.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>en-GB</code></pre></div></li><li><strong>send_receipt_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a receipt should be sent if the Merchant is able to provide one. If present, the Merchant should consider this as a request by the Buyer to be sent a receipt.</p></li></ul></li><li><strong>send_refund_to</strong>: <em>(object)</em><ul><li><strong>email</strong>: <em>required (string - minLength: 3 - maxLength: 256)</em><p>An email address where a payment refund should be sent.</p></li><li><strong>password</strong>: <em>(string - minLength: 8 - maxLength: 64)</em><p>A string the Merchant MUST use to encrypt Coins with before sending them through email.</p></li><li><strong>reference</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>If the <strong><em>reference</em></strong> element is present it should be echoed in the <strong><em>reference</em></strong> element of the refund file.</p></li></ul></li></ul></li><li><strong>order_id</strong>: <em>(string - minLength: 1 - maxLength: 64)</em><p>Old: merchant_data</p><p>Typically a reference that is meaningful to the Merchant – for example, a sales invoice number. It&#39;s being recorded in the history of the Buyer&#39;s Wallet so it may be quoted by the Buyer as a reference in subsequent communications.</p><p>Must be unique for the Merchant.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>IN20181212345</code></pre></div></li><li><strong>coins</strong>: <em>required (array of string - minItems: 1)</em><p>Base64 encoded Coins.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "transaction_id": "97e00590-aa8a-11e8-a18f-4d64691098e6",
  "coins": [
    "ewogICJhIjoiZzBZd2...",
    "ewogICJhIjoiZzBZd2..."
  ],
  "wallet_id": "12344321",
  "options": {
    "send_receipt_to": {
      "email":"buyer@mail.url"
    },
    "send_refund_to": {
      "email":"buyer@mail.url",
      "password":"hX,LsQ9z",
      "reference":"12344321"
    },
    "language_preference": "en-GB"
  },
  "note": "Please send it to 123 Street, Town, City, Country"
}
</code></pre></div></div><div class="tab-pane" id="transaction__transaction_id__payment_post_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: PaymentAck</p><div class="items"><ul><li><strong>status</strong>: <em>required (one of ok, payment-unknown, after-expires, insufficient-amount, bad-coins, retry-expired)</em><p>Payment status indicator described in the Payment specification document.</p></li><li><strong>wallet_id</strong>: <em>(string - minLength: 1 - maxLength: 36)</em><p>A string created by the Wallet and echoed back to the Wallet in the confirmation of payment.</p></li><li><strong>return_url</strong>: <em>(string - minLength: 0 - maxLength: 256)</em><p>An URL&#39;/ where the purchased product may be obtained and/or order finalized. The Gateway will additionaly include two parameters in the <strong><em>return_url</em></strong> query string:</p><ul><li><strong><em>transaction_id</em></strong></li><li><strong><em>order_id</em></strong> - if it was provided by the Merchant. Example: <strong><em>callback_url</em></strong> set to <code>https://my.site.url/order?in=12345</code> will became <code>https://my.site.url/order?in=12345&amp;transaction_id=98765</code> or <code>https://my.site.url/order?in=12345&amp;transaction_id=98765&amp;order_id=98765</code> if <strong><em>order_id</em></strong> was provided as well.</li></ul><p>Please bear in mind that if the original URL already has any of these keys they will be overwritten.</p><p>If it is not explicitly set then the <strong><em>return_url</em></strong> setting from the Merchant account&#39;s config will be taken.</p><p>In general, it is a good practice to provide a <strong><em>return_url</em></strong>.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>https://my.site.url/order?in=12345</code></pre></div></li><li><strong>notification</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Short information from the Merchant to be presented to the Buyer e.g. a thank you note, confirmation of purchase. This may be useful especially if there is no need for extra steps after payment is done i.e. by passing <strong><em>return_url</em></strong>. On occasions such as payment for a subscription, the Merchant may simply wish to confirm that a payment has been received without providing a separate confirmation or download page. A notification may be used in such a situation.</p><p>Notification should be recorded in the history of the Buyer&#39;s Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Thank you for your payment. Your subscription is now active.</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "status": "ok",
  "wallet_id": "123456789",
  "return_url": "https://my.site.url/download?prod=123&amp;transaction_id=97e00590-aa8a-11e8-a18f-4d64691098e6&amp;order_id=IN12345",
  "notification": "Thank you for your purchase!"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during retrieving transactions. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your search parameters.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success":false,
  "body":[
    {
      "status": "payment-unknown",
      "wallet_id": "123456789"
    }
  ],
  "messages":[
    {
      "type":"error",
      "body":"Example of error message"
    }
  ]
}
</code></pre></div></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="accounts" class="panel-title">/accounts</h3></div><div class="panel-body"><div class="top-resource-description"><p>This endpoint provides an option to work on a collection of accounts&#39; objects.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_accounts"><span class="parent"></span>/accounts</a> <span class="methods"><a href="#accounts_post"><span class="badge badge_post">post</span></a></span></h4></div><div id="panel_accounts" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#accounts_post'" class="list-group-item"><span class="badge badge_post">post</span><div class="method_description"></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="accounts_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post</span> <span class="parent"></span>/accounts</h4></div><div class="modal-body"><ul class="nav nav-tabs"><li class="active"><a href="#accounts_post_request" data-toggle="tab">Request</a></li><li><a href="#accounts_post_response" data-toggle="tab">Response</a></li></ul><div class="tab-content"><div class="tab-pane active" id="accounts_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>domain</strong>: <em>required (string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service.</p><p>If <strong><em>domain</em></strong> will be different than the <strong><em>return_url</em></strong>&#39;s domain then Merchant&#39;s account should be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the account related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the customer related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account. It&#39;s not an identifier of any kind, its role is purely descriptive.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Great Online Shop"
}
</code></pre></div></div><div class="tab-pane" id="accounts_post_response"><h2>HTTP status code <a href="http://httpstatus.es/201" target="_blank">201</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountDetails</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service.</p><p>If <strong><em>domain</em></strong> will be different than the <strong><em>return_url</em></strong>&#39;s domain then Merchant&#39;s account should be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the account related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the customer related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account. It&#39;s not an identifier of any kind, its role is purely descriptive.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if the currency is not explicitly set for a transaction. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the <em>initial</em> status will be marked as <em>expired</em>. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a receipt via email.</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a refund via email.</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default Issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway&#39;s Issuer is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li><li><strong>auth_token</strong>: <em>required (string)</em><p>Token used for the account authentication. This token is used for the Merchant&#39;s identification and authentication and should be kept secret at all times. In a standard implementation, this is the only externally available data allowing to access the Merchant&#39;s account resources.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1p2o3i4u5y6t7r8e9w0q</code></pre></div></li><li><strong>acceptable_issuers</strong>: <em>(array of string - minItems: 1 - maxItems: 10)</em><p>List of Issuers&#39; domains that the Merchant accepts Coins from. If the Merchant will explicitly set <strong><em>home_issuer</em></strong> in the Merchant&#39;s account settings then by default <strong><em>acceptable_issuers</em></strong> value is set to _["(<home_issuer>)"]_ (home issuer put into brackets). This delegates the responsibility for providing a list of acceptable issuers to the <em>Home Issuer</em>, meaning all issuers that the <em>Home Issuer</em> accepts will be accepted by the Merchant as well.</home_issuer></p><p>If <strong><em>home_issuer</em></strong> is not explicitly set then <strong><em>acceptable_issuers</em></strong> will use the Gateway&#39;s default value set by the Gateway&#39;s operator.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  "(eu.carrotpay.com)"
]</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "auth_token": "1p2o3i4u5y6t7r8e9w0q",
  "acceptable_issuers": ["(eu.carrotpay.com)"],
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success":true,
  "body":[{
    "auth_token": "123456789",
    "domain":"my.site.url",
    "email_account_contact": "account@my.site.url",
    "email_customer_contact": "sales@my.site.url",
    "name":"John Smith"
    "default_payment_currency":"XBT",
    "default_payment_timeout":"3600",
    "provide_receipt_via_email":false,
    "provide_refund_via_email":false,
    "home_issuer":"be.ap.rmp.net",
    "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
  }],
  "messages":[
    {
      "type":"info",
      "body":"Success! Your account is now active!"
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during account creation. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your request&#39;s parameters.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="account" class="panel-title">/account</h3></div><div class="panel-body"><div class="top-resource-description"><p>This endpoint provides an option to work on authenticated account object hence it requires a valid authentication token to be provided for every operation.</p></div><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_account_settings"><span class="parent">/account</span>/settings</a> <span class="methods"><a href="#account_settings_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a> <a href="#account_settings_patch"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_account_settings" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#account_settings_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Returns current settings for the account. Returned values are either directly set by the Merchant or retrieved from the default Gateway&#39;s configuration.</p></div><div class="clearfix"></div></div><div onclick="window.location.href = '#account_settings_patch'" class="list-group-item"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: /setConfig</p><p>Set new values for the Merchant&#39;s account settings provided in the requests. Only modified values may be sent in the request.</p><p>The Gateway operator may decide to set some of the settings as read-only hence it will be impossible to modify them. Settings are being saved in a transaction, meaning if even one key will be invalid - the whole operation will fail.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_settings_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/settings</h4></div><div class="modal-body"><div class="alert alert-info"><p>Returns current settings for the account. Returned values are either directly set by the Merchant or retrieved from the default Gateway&#39;s configuration.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_settings_get_response" data-toggle="tab">Response</a></li><li><a href="#account_settings_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_settings_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountSettings</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service.</p><p>If <strong><em>domain</em></strong> will be different than the <strong><em>return_url</em></strong>&#39;s domain then Merchant&#39;s account should be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the account related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the customer related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account. It&#39;s not an identifier of any kind, its role is purely descriptive.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if the currency is not explicitly set for a transaction. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the <em>initial</em> status will be marked as <em>expired</em>. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a receipt via email.</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a refund via email.</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default Issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway&#39;s Issuer is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success":true,
  "body":[{
    "domain":"my.site.url",
    "email_account_contact": "account@my.site.url",
    "email_customer_contact": "sales@my.site.url",
    "name":"John Smith"
    "default_payment_currency":"XBT",
    "default_payment_timeout":"3600",
    "provide_receipt_via_email":false,
    "provide_refund_via_email":false,
    "home_issuer":"be.ap.rmp.net",
    "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
  }],
  "messages":[]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during retrieving settings. Check <strong><em>messages</em></strong> to get more information about the reason behind this error.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="account_settings_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_settings_patch"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_patch">patch <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/settings</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: /setConfig</p><p>Set new values for the Merchant&#39;s account settings provided in the requests. Only modified values may be sent in the request.</p><p>The Gateway operator may decide to set some of the settings as read-only hence it will be impossible to modify them. Settings are being saved in a transaction, meaning if even one key will be invalid - the whole operation will fail.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_settings_patch_request" data-toggle="tab">Request</a></li><li><a href="#account_settings_patch_response" data-toggle="tab">Response</a></li><li><a href="#account_settings_patch_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_settings_patch_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service.</p><p>If <strong><em>domain</em></strong> will be different than the <strong><em>return_url</em></strong>&#39;s domain then Merchant&#39;s account should be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the account related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the customer related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account. It&#39;s not an identifier of any kind, its role is purely descriptive.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if the currency is not explicitly set for a transaction. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the <em>initial</em> status will be marked as <em>expired</em>. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a receipt via email.</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a refund via email.</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default Issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway&#39;s Issuer is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div><div class="tab-pane" id="account_settings_patch_response"><h2>HTTP status code <a href="http://httpstatus.es/202" target="_blank">202</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountSettings</p><div class="items"><ul><li><strong>domain</strong>: <em>(string - minLength: 4 - maxLength: 128)</em><p>The domain name of the Merchant&#39;s service.</p><p>If <strong><em>domain</em></strong> will be different than the <strong><em>return_url</em></strong>&#39;s domain then Merchant&#39;s account should be displayed as not verified in the Wallet.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>my.site.url</code></pre></div></li><li><strong>email_account_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the account related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>contact@my.site.url</code></pre></div></li><li><strong>email_customer_contact</strong>: <em>(string - minLength: 3 - maxLength: 256)</em><p>An email address for the customer related queries.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>sales@my.site.url</code></pre></div></li><li><strong>name</strong>: <em>(string - minLength: 1 - maxLength: 128)</em><p>Name of the account. It&#39;s not an identifier of any kind, its role is purely descriptive.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>My Great Online Shop</code></pre></div></li><li><strong>default_payment_currency</strong>: <em>(XBT)</em><p>Default currency for transactions. It will be used by default if the currency is not explicitly set for a transaction. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>default_payment_timeout</strong>: <em>(string - default: 3600)</em><p>Time in seconds after which the transaction in the <em>initial</em> status will be marked as <em>expired</em>. If it&#39;s defined neither in the transaction nor on the Merchant&#39;s account then the default Gateway&#39;s setting is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>3600</code></pre></div></li><li><strong>provide_receipt_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a receipt via email.</p></li><li><strong>provide_refund_via_email</strong>: <em>(boolean - default: false)</em><p>Indicates if the Merchant provides an option to send a refund via email.</p></li><li><strong>home_issuer</strong>: <em>(string - default: eu.carrotpay.com)</em><p>A default Issuer to use for all transactions. If it&#39;s not explicitly set by the Merchant then the default Gateway&#39;s Issuer is used.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>eu.carrotpay.com</code></pre></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "domain": "my.site.url",
  "email_account_contact": "account@my.site.url",
  "email_customer_contact": "sales@my.site.url",
  "name": "My Online Shop",
  "default_payment_currency": "XBT",
  "default_payment_timeout": "3600",
  "provide_receipt_via_email": true,
  "provide_refund_via_email": false,
  "home_issuer": "eu.carrotpay.com"
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success":true,
  "body":[{
    "domain":"my.site.url",
    "email_account_contact": "account@my.site.url",
    "email_customer_contact": "sales@my.site.url",
    "name":"John Smith"
    "default_payment_currency":"XBT",
    "default_payment_timeout":"3600",
    "provide_receipt_via_email":false,
    "provide_refund_via_email":false,
    "home_issuer":"be.ap.rmp.net",
    "acceptable_issuers":[ "eu.carrotpay.com", "be.ap.rmp.net" ]
  }],
  "messages":[
    {
      "type": "info",
      "body": "Your settings were updated!"
    }
  ]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during saving new settings. Check <strong><em>messages</em></strong> to get more information about the reason behind this error and/or review your request&#39;s parameters.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="account_settings_patch_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_account_balance"><span class="parent">/account</span>/balance</a> <span class="methods"><a href="#account_balance_get"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_account_balance" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#account_balance_get'" class="list-group-item"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Old: getBalance</p><p>Returns a list of currency balances either for all currencies stored on the Merchant&#39;s account or all if the currency is not defined.</p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="account_balance_get"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_get">get <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent">/account</span>/balance</h4></div><div class="modal-body"><div class="alert alert-info"><p>Old: getBalance</p><p>Returns a list of currency balances either for all currencies stored on the Merchant&#39;s account or all if the currency is not defined.</p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>AuthToken</b><p>By default each request - unless stated otherwise - requires authentication header passed together with the request.</p></div><ul class="nav nav-tabs"><li class="active"><a href="#account_balance_get_request" data-toggle="tab">Request</a></li><li><a href="#account_balance_get_response" data-toggle="tab">Response</a></li><li><a href="#account_balance_get_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="account_balance_get_request"><h3>Query Parameters</h3><ul><li><strong>currency</strong>: <em>(Currency)</em><p>The currency identifier that the balance should be returned for.</p></li></ul></div><div class="tab-pane" id="account_balance_get_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>body</strong>: <em>required (array of object - minItems: 0)</em><p>Actual data returned by the method.</p><p><strong>Items</strong>: AccountBalance</p><div class="items"><ul><li><strong>currency</strong>: <em>required (XBT)</em><p>Currency for which this balance is for.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>XBT</code></pre></div></li><li><strong>value</strong>: <em>required (string - minLength: 10 - maxLength: 17)</em><p>Total value of coins in a given currency.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>0.00000134</code></pre></div></li><li><strong>number_of_coins</strong>: <em>required (integer - minimum: 1)</em><p>Number of coins in a given currency.</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "currency": "XBT",
  "value": "0.00001230",
  "number_of_coins": 61
}
</code></pre></div></div></li><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>set-currency</strong>:<br></p><pre><code>{
  "success":true,
  "body":[
    {
      "currency": "XBT",
      "value": "0.00120000",
      "coins": 121
    }
  ],
  "messages":[]
}
</code></pre><p><strong>all-currencies</strong>:<br></p><pre><code>{
  "success":true,
  "body":[
    {
      "currency": "XBT",
      "value": "0.00120000",
      "number_of_coins": 121
    },
    {
      "currency": "ETH",
      "value": "0.00200000",
      "number_of_coins": 63
    }
  ],
  "messages":[]
}
</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>This status code will be returned in case of any error encountered during retrieving settings. Check <strong><em>messages</em></strong> to get more information about the reason behind this error.</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em>required (boolean)</em><p>Indicator if command was successfully executed.</p></li><li><strong>messages</strong>: <em>required (array of object - minItems: 0)</em><p>Messages to be processed on API consumer&#39;s end.</p><p><strong>Items</strong>: Message</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Body of a message.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>Your payment was successfully proceeded.</code></pre></div></li><li><strong>type</strong>: <em>required (one of info, warning, notice, error, prompt)</em><p>Type of a message.</p><ul><li><strong>info</strong> - information related to confirmation of successfully proceeded operation,</li><li><strong>warning</strong> - non-fatal information. Operation succeeded but something happened in the progress. It is up to the API consumer to either react or ignore this message,</li><li><strong>notice</strong> - information not directly related to the proceeded operation, but important from the Gateway&#39;s perspective,</li><li><strong>error</strong> - operation did not proceed as expected. This information is fatal, meaning that replying the operation in an unaltered form will probably fail again,</li><li><strong>prompt</strong> - action is needed to be taken by the message consumer. Actions are passed under <strong><em>actions</em></strong> key.</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>info</code></pre></div></li><li><strong>actions</strong>: <em>(array of object)</em><p>Possible actions for <strong>prompt</strong> message type.</p><p>Actions may be used to enforce a specific behavior on API consumer. Possible usage scenario: the Gateway&#39;s operator requires new terms of service acceptance. The Gateway may detect that the Merchant did not yet accept the change and may return this message either instead of or additionally to processed operations&#39; results, with links to either accept or decline new terms.</p><p><strong>Items</strong>: items</p><div class="items"><ul><li><strong>body</strong>: <em>required (string)</em><p>Display value or anything describing action to be taken.</p></li><li><strong>action</strong>: <em>required (string)</em><p>In most cases an URL to be called if this specific action is to be performed.</p></li></ul></div><p><strong>Example</strong>:</p><div class="examples"><pre><code>[
  {
    "body": "Yes, I want to redeem",
    "action": "https://my.gateway.url/api/v1/redeem/confirm"
  },
  {
    "body": "Never mind",
    "action": "https://my.gateway.url/api/v1/redeem/cancel"
  }
]
</code></pre></div></li></ul></div></li><li><strong>body</strong>: <em>required (array of - minItems: 0)</em><p>Actual data returned by the method.</p></li></ul><h2>HTTP status code <a href="http://httpstatus.es/401" target="_blank">401</a></h2><p>Authentication token was not provided or it&#39;s invalid.</p></div><div class="tab-pane" id="account_balance_get_securedby"><h1>Secured by AuthToken</h1><h3>Headers</h3><ul><li><strong>BE-MG-Auth-Token</strong>: <em>required (string)</em></li></ul></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#transactions">/transactions</a></li><li><a href="#transaction">/transaction</a></li><li><a href="#accounts">/accounts</a></li><li><a href="#account">/account</a></li></ul></div></div></div></div></body></html>